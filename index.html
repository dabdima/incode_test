<!DOCTYPE html>
<html lang="en">
<head>
    <title>test</title>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="css/reset.css" type="text/css" />
    <link rel="stylesheet" href="css/styles.css" type="text/css" />
    <!-- <script type="text/javascript" src="libs/react.min.js"></script>
    <script type="text/javascript" src="libs/react-dom.min.js"></script>
    <script type="text/javascript" src="libs/browser.js"></script> -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.0/react.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.0/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.6.15/browser.js"></script>


</head>
<body>

    <div id='example'></div>

    <script type="text/babel">

    var CLIENTS = [
        {
            "id": 1,
            "general": {
                "firstName": "Liana",
                "lastName": "Crooks",
                "avatar": "https://s3.amazonaws.com/uifaces/faces/twitter/kevinoh/128.jpg"
            },
            "job": {
                "company": "Ledner, Johnson and Predovic",
                "title": "Investor Functionality Coordinator"
            },
            "contact": {
                "email": "Gerry_Hackett77@gmail.com",
                "phone": "(895) 984-0132"
            },
            "address": {
                "street": "1520 Zemlak Cove",
                "city": "New Devon",
                "zipCode": "42586-7898",
                "country": "Guinea-Bissau"
            }
        },
        {
            "id": 2,
            "general": {
                "firstName": "Deontae",
                "lastName": "Dare",
                "avatar": "https://s3.amazonaws.com/uifaces/faces/twitter/andysolomon/128.jpg"
            },
            "job": {
                "company": "D'Amore, Dicki and Borer",
                "title": "International Applications Consultant"
            },
            "contact": {
                "email": "Kellie.Marvin38@yahoo.com",
                "phone": "1-615-843-3426 x600"
            },
            "address": {
                "street": "65901 Glover Terrace",
                "city": "Alden ton",
                "zipCode": "57744-4248",
                "country": "Kenya"
            }
        },
        {
            "id": 3,
            "general": {
                "firstName": "Cortez",
                "lastName": "Pacocha",
                "avatar": "https://s3.amazonaws.com/uifaces/faces/twitter/holdenweb/128.jpg"
            },
            "job": {
                "company": "McKenzie Group",
                "title": "Forward Branding Developer"
            },
            "contact": {
                "email": "Sage_Wiegand@hotmail.com",
                "phone": "725.583.0926 x0430"
            },
            "address": {
                "street": "376 Reginald Dam",
                "city": "Port Enid fort",
                "zipCode": "51294-8361",
                "country": "Belarus"
            }
        },
        {
            "id": 4,
            "general": {
                "firstName": "Geoffrey",
                "lastName": "Russel",
                "avatar": "https://s3.amazonaws.com/uifaces/faces/twitter/swaplord/128.jpg"
            },
            "job": {
                "company": "Nienow and Sons",
                "title": "Central Intranet Designer"
            },
            "contact": {
                "email": "Daron.Bartoletti9@gmail.com",
                "phone": "646.580.9390"
            },
            "address": {
                "street": "5050 Iva Extensions",
                "city": "Madonna burgh",
                "zipCode": "74470-6362",
                "country": "Fiji"
            }
        },
        {
            "id": 5,
            "general": {
                "firstName": "Christian",
                "lastName": "Wuckert",
                "avatar": "https://s3.amazonaws.com/uifaces/faces/twitter/lowie/128.jpg"
            },
            "job": {
                "company": "Jakubowski Inc",
                "title": "Future Branding Assistant"
            },
            "contact": {
                "email": "Zechariah48@hotmail.com",
                "phone": "555-516-5564"
            },
            "address": {
                "street": "1946 Nolan Mountain",
                "city": "Garnet stad",
                "zipCode": "79438",
                "country": "Puerto Rico"
            }
        },
        {
            "id": 6,
            "general": {
                "firstName": "Joana",
                "lastName": "Breitenberg",
                "avatar": "https://s3.amazonaws.com/uifaces/faces/twitter/themrdave/128.jpg"
            },
            "job": {
                "company": "Jacobson - Fay",
                "title": "Global Factors Officer"
            },
            "contact": {
                "email": "Jaylon92@hotmail.com",
                "phone": "202.387.0215 x7568"
            },
            "address": {
                "street": "3446 Isabelle Shore",
                "city": "Port Kayli",
                "zipCode": "63713-9923",
                "country": "Switzerland"
            }
        },
        {
            "id": 7,
            "general": {
                "firstName": "Elton",
                "lastName": "Pfannerstill",
                "avatar": "https://s3.amazonaws.com/uifaces/faces/twitter/abdots/128.jpg"
            },
            "job": {
                "company": "Franecki LLC",
                "title": "Product Applications Assistant"
            },
            "contact": {
                "email": "Tomasa26@hotmail.com",
                "phone": "168.457.7936 x4319"
            },
            "address": {
                "street": "1975 Creola Streets",
                "city": "South Favian",
                "zipCode": "65666-6266",
                "country": "Afghanistan"
            }
        },
        {
            "id": 8,
            "general": {
                "firstName": "Alvena",
                "lastName": "Paucek",
                "avatar": "https://s3.amazonaws.com/uifaces/faces/twitter/dvdwinden/128.jpg"
            },
            "job": {
                "company": "Goldner - Haag",
                "title": "Corporate Interactions Assistant"
            },
            "contact": {
                "email": "Oran66@yahoo.com",
                "phone": "(754) 491-0343 x6060"
            },
            "address": {
                "street": "95820 Bud Trail",
                "city": "West Randy furt",
                "zipCode": "98923",
                "country": "French Polynesia"
            }
        },
        {
            "id": 9,
            "general": {
                "firstName": "Lew",
                "lastName": "Daniel",
                "avatar": "https://s3.amazonaws.com/uifaces/faces/twitter/dhoot_amit/128.jpg"
            },
            "job": {
                "company": "Corwin LLC",
                "title": "Product Research Liason"
            },
            "contact": {
                "email": "Cordelia.Bartoletti28@gmail.com",
                "phone": "142.115.7141 x943"
            },
            "address": {
                "street": "04363 Torphy Club",
                "city": "East Heidi",
                "zipCode": "10926-2413",
                "country": "Estonia"
            }
        },
        {
            "id": 10,
            "general": {
                "firstName": "Darlene",
                "lastName": "Davis",
                "avatar": "https://s3.amazonaws.com/uifaces/faces/twitter/raphaelnikson/128.jpg"
            },
            "job": {
                "company": "Franecki and Sons",
                "title": "Internal Functionality Supervisor"
            },
            "contact": {
                "email": "Erich36@gmail.com",
                "phone": "(546) 314-2504"
            },
            "address": {
                "street": "1513 Kessler Crossing",
                "city": "South Randi fort",
                "zipCode": "60194",
                "country": "Malta"
            }
        },
        {
            "id": 11,
            "general": {
                "firstName": "Savannah",
                "lastName": "Predovic",
                "avatar": "https://s3.amazonaws.com/uifaces/faces/twitter/mtolokonnikov/128.jpg"
            },
            "job": {
                "company": "O'Connell - Koepp",
                "title": "International Integration Liason"
            },
            "contact": {
                "email": "Torey_Stroman@hotmail.com",
                "phone": "324.808.6122"
            },
            "address": {
                "street": "660 Lueilwitz Island",
                "city": "East Okey port",
                "zipCode": "26277",
                "country": "Sudan"
            }
        },
        {
            "id": 12,
            "general": {
                "firstName": "Nicolette",
                "lastName": "Rogahn",
                "avatar": "https://s3.amazonaws.com/uifaces/faces/twitter/oskarlevinson/128.jpg"
            },
            "job": {
                "company": "Zemlak - Larkin",
                "title": "Internal Group Agent"
            },
            "contact": {
                "email": "Rowena.Kemmer93@yahoo.com",
                "phone": "579-666-9685"
            },
            "address": {
                "street": "6622 Kaitlin Drive",
                "city": "New Israel",
                "zipCode": "07116",
                "country": "Turkmenistan"
            }
        },
        {
            "id": 13,
            "general": {
                "firstName": "Elmer",
                "lastName": "D'Amore",
                "avatar": "https://s3.amazonaws.com/uifaces/faces/twitter/mfacchinello/128.jpg"
            },
            "job": {
                "company": "Schaden Group",
                "title": "Regional Brand Strategist"
            },
            "contact": {
                "email": "Margarett57@gmail.com",
                "phone": "1-236-341-6098 x2838"
            },
            "address": {
                "street": "26952 Welch Course",
                "city": "Lake Carmella land",
                "zipCode": "85577-5136",
                "country": "Israel"
            }
        }
    ];

    var Client = React.createClass({
        render: function () {
            return <div className="client-block">
                        <div className="client-block-avatar">
                            <img src={this.props.image} width="128px" height="128px" alt=""/>
                        </div>
                        <div className="client-block-inf">
                            <h3>{this.props.fName} {this.props.lName}</h3>
                            <p>{this.props.job}</p>
                        </div>
                    </div>
        }
    })

    var ClientList = React.createClass({
        getInitialState: function() {
            return {
                displayedClients: CLIENTS
            };
        },

        handleSearch: function (event) {
            //console.log(event.target.value);
            var searchQuery = event.target.value.toLowerCase();
            var displayedClients = CLIENTS.filter(function(el) {
                var searchValue = el.general.firstName.toLowerCase();
                return (searchValue.indexOf(searchQuery) !== -1);
            });

            this.setState({
                displayedClients: displayedClients
            });
            // console.log(displayedClients);
            // console.log(CLIENTS);

        },

        render: function () {
            return (
                <div>
                    <input type="text" className="search-input" onChange={this.handleSearch} />
                    {
                        this.state.displayedClients.map(function (el) {
                            return (<Client
                                key={el.id}
                                fName={el.general.firstName}
                                lName={el.general.lastName}
                                job={el.job.title}
                                image={el.general.avatar}
                            />)
                        })
                    }
                </div>
            );
        }
    });

    ReactDOM.render(<ClientList />, document.getElementById('example'));
    </script>


</body>
</html>
